-- MySQL Script generated by MySQL Workbench
-- qua 08 out 2025 08:07:44
-- Model: Modely Database    Version: 1.1
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='STRICT_TRANS_TABLES,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema modely
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `modely` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
USE `modely`;

-- -----------------------------------------------------
-- Table `tb_cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_cliente` (
  `id_cliente` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `cpf` VARCHAR(20) NOT NULL,
  `telefone` VARCHAR(20) NOT NULL,
  `email` VARCHAR(50) NOT NULL,
  `endereco` VARCHAR(300) NOT NULL,
  PRIMARY KEY (`id_cliente`),
  UNIQUE INDEX `cpf_UNIQUE` (`cpf` ASC) VISIBLE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_funcionario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_funcionario` (
  `id_funcionario` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `cpf` VARCHAR(20) NOT NULL,
  `email` VARCHAR(50) NOT NULL,
  `telefone` VARCHAR(20) NOT NULL,
  `data_nascimento` DATE NOT NULL,
  `carga_horaria` VARCHAR(10) NOT NULL,
  `salario` DECIMAL(10,2) NOT NULL,
  `endereco` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`id_funcionario`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_produto` (
  `id_produto` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `quantidade` INT NOT NULL,
  `material` VARCHAR(45) NOT NULL,
  `preco` DECIMAL(10,2) NOT NULL,
  `modelo` VARCHAR(100) NOT NULL,
  `cor` VARCHAR(100) NOT NULL,
  `tamanho` VARCHAR(50) NOT NULL,
  `marca` VARCHAR(50) NOT NULL,
  `imagem` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`id_produto`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_usuario` (
  `id_usuario` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `senha` VARCHAR(250) NOT NULL,
  `email` VARCHAR(50) NOT NULL,
  `endereco` VARCHAR(300) NOT NULL,
  `tipo` CHAR(1) NULL,
  PRIMARY KEY (`id_usuario`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_agendamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_agendamento` (
  `id_agendamento` INT NOT NULL AUTO_INCREMENT,
  `id_cliente` INT NOT NULL,
  `data` DATE NOT NULL,
  `horario` TIME NOT NULL,
  `status` VARCHAR(30) NOT NULL,
  PRIMARY KEY (`id_agendamento`),
  INDEX `fk_agendamento_cliente_idx` (`id_cliente` ASC) VISIBLE,
  CONSTRAINT `fk_agendamento_cliente`
    FOREIGN KEY (`id_cliente`)
    REFERENCES `tb_cliente` (`id_cliente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_carrinho`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_carrinho` (
  `id_carrinho` INT NOT NULL AUTO_INCREMENT,
  `id_cliente` INT NOT NULL,
  `valor_total` DECIMAL(10,2) NOT NULL,
  `valor_entrega` DECIMAL(10,2) NOT NULL,
  `valor_pago` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`id_carrinho`),
  INDEX `fk_carrinho_cliente_idx` (`id_cliente` ASC) VISIBLE,
  CONSTRAINT `fk_carrinho_cliente`
    FOREIGN KEY (`id_cliente`)
    REFERENCES `tb_cliente` (`id_cliente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_vendas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_vendas` (
  `id_vendas` INT NOT NULL AUTO_INCREMENT,
  `id_cliente` INT NOT NULL,
  `id_funcionario` INT NOT NULL,
  `horario` TIME NOT NULL,
  `data` DATE NOT NULL,
  `comissao` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`id_vendas`),
  INDEX `fk_vendas_cliente_idx` (`id_cliente` ASC) VISIBLE,
  INDEX `fk_vendas_funcionario_idx` (`id_funcionario` ASC) VISIBLE,
  CONSTRAINT `fk_vendas_cliente`
    FOREIGN KEY (`id_cliente`)
    REFERENCES `tb_cliente` (`id_cliente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendas_funcionario`
    FOREIGN KEY (`id_funcionario`)
    REFERENCES `tb_funcionario` (`id_funcionario`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_itens_vendas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_itens_vendas` (
  `id_vendas` INT NOT NULL,
  `id_produto` INT NOT NULL,
  `quantidade` INT NOT NULL,
  PRIMARY KEY (`id_vendas`, `id_produto`),
  INDEX `fk_itens_vendas_produto_idx` (`id_produto` ASC) VISIBLE,
  CONSTRAINT `fk_itens_vendas_vendas`
    FOREIGN KEY (`id_vendas`)
    REFERENCES `tb_vendas` (`id_vendas`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_itens_vendas_produto`
    FOREIGN KEY (`id_produto`)
    REFERENCES `tb_produto` (`id_produto`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

-- -----------------------------------------------------
-- Table `tb_itens_carrinho`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tb_itens_carrinho` (
  `id_carrinho` INT NOT NULL,
  `id_produto` INT NOT NULL,
  `quantidade` INT NOT NULL,
  PRIMARY KEY (`id_carrinho`, `id_produto`),
  INDEX `fk_itens_carrinho_produto_idx` (`id_produto` ASC) VISIBLE,
  CONSTRAINT `fk_itens_carrinho_carrinho`
    FOREIGN KEY (`id_carrinho`)
    REFERENCES `tb_carrinho` (`id_carrinho`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_itens_carrinho_produto`
    FOREIGN KEY (`id_produto`)
    REFERENCES `tb_produto` (`id_produto`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_general_ci;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



-- ==============================
-- Tabela: tb_cliente
-- ==============================
INSERT INTO tb_cliente (nome, cpf, telefone, email, endereco) VALUES
('Bianca Oliveira', '111.111.111-11', '(11) 99999-1111', 'bianca@email.com', 'Rua das Flores, 100'),
('Marcos Silva', '222.222.222-22', '(11) 98888-2222', 'marcos@email.com', 'Av. Paulista, 200'),
('Ana Souza', '333.333.333-33', '(21) 97777-3333', 'ana@email.com', 'Rua do Sol, 50'),
('Carlos Mendes', '444.444.444-44', '(31) 96666-4444', 'carlos@email.com', 'Rua Minas, 123'),
('Julia Santos', '555.555.555-55', '(41) 95555-5555', 'julia@email.com', 'Av. Brasil, 1500');

-- ==============================
-- Tabela: tb_funcionario
-- ==============================
INSERT INTO tb_funcionario (nome, cpf, email, telefone, data_nascimento, carga_horaria, salario, endereco) VALUES
('Fernanda Lima', '666.666.666-66', 'fernanda@email.com', '(11) 91111-6666', '1990-05-10', '8h', 2500.00, 'Rua Verde, 10'),
('Rafael Costa', '777.777.777-77', 'rafael@email.com', '(11) 92222-7777', '1985-09-12', '8h', 3000.00, 'Rua Azul, 20'),
('Luciana Alves', '888.888.888-88', 'luciana@email.com', '(21) 93333-8888', '1992-11-25', '6h', 1800.00, 'Rua Amarela, 30'),
('Diego Rocha', '999.999.999-99', 'diego@email.com', '(31) 94444-9999', '1995-01-05', '8h', 2200.00, 'Rua Preta, 40'),
('Patrícia Gomes', '101.010.101-01', 'patricia@email.com', '(41) 95555-1010', '1980-07-18', '4h', 1500.00, 'Rua Branca, 50');

-- ==============================
-- Tabela: tb_usuario
-- ==============================
INSERT INTO tb_usuario (nome, senha, email, endereco, tipo) VALUES
('Admin', '123456', 'admin@email.com', 'Av. Central, 1', 'A'),
('Bianca Oliveira', 'senha1', 'bianca@email.com', 'Rua das Flores, 100', 'C'),
('Marcos Silva', 'senha2', 'marcos@email.com', 'Av. Paulista, 200', 'C'),
('Fernanda Lima', 'senha3', 'fernanda@email.com', 'Rua Verde, 10', 'F'),
('Rafael Costa', 'senha4', 'rafael@email.com', 'Rua Azul, 20', 'F');

-- ==============================
-- Tabela: tb_produto
-- ==============================
INSERT INTO tb_produto (nome, quantidade, material, preco, modelo, cor, tamanho, marca, imagem) VALUES
('Camiseta Básica', 50, 'Algodão', 79.90, 'Casual', 'Preta', 'M', 'Modely', 'camiseta_preta.jpg'),
('Calça Skinny', 30, 'Jeans', 129.90, 'Tradicional', 'Azul', '42', 'Modely', 'calca_jeans.jpg'),
('Jaqueta de Couro', 20, 'Couro', 199.90, 'Moto', 'Marrom', 'G', 'Modely', 'jaqueta.jpg'),
('Short Esportivo', 100, 'Poliéster', 59.90, 'Fitness', 'Cinza', 'M', 'Modely', 'short.jpg'),
('Blusa de Frio', 15, 'Lã', 249.90, 'Inverno', 'Vermelha', 'P', 'Modely', 'blusa_frio.jpg');

-- ==============================
-- Tabela: tb_agendamento
-- ==============================
INSERT INTO tb_agendamento (id_cliente, data, horario, status) VALUES
(1, '2025-09-20', '10:00:00', 'Confirmado'),
(2, '2025-09-21', '11:00:00', 'Pendente'),
(3, '2025-09-22', '15:00:00', 'Cancelado'),
(4, '2025-09-23', '09:30:00', 'Confirmado'),
(5, '2025-09-24', '14:00:00', 'Confirmado');

-- ==============================
-- Tabela: tb_carrinho
-- ==============================
INSERT INTO tb_carrinho (id_cliente, valor_total, valor_entrega, valor_pago) VALUES
(1, 189.80, 10.00, 199.80),
(2, 259.80, 15.00, 274.80),
(3, 199.90, 0.00, 199.90),
(4, 119.80, 10.00, 129.80),
(5, 249.90, 20.00, 269.90);

-- ==============================
-- Tabela: tb_itens_carrinho
-- ==============================
INSERT INTO tb_itens_carrinho (id_carrinho, id_produto, quantidade) VALUES
(1, 1, 2),
(2, 2, 2),
(3, 3, 1),
(4, 4, 2),
(5, 5, 1);

-- ==============================
-- Tabela: tb_vendas
-- ==============================
INSERT INTO tb_vendas (id_cliente, id_funcionario, horario, data, comissao) VALUES
(1, 1, '14:00:00', '2025-09-10', 50.00),
(2, 2, '15:30:00', '2025-09-11', 30.00),
(3, 3, '16:00:00', '2025-09-12', 40.00),
(4, 4, '17:00:00', '2025-09-13', 25.00),
(5, 5, '18:00:00', '2025-09-14', 60.00);

-- ==============================
-- Tabela: tb_itens_vendas
-- ==============================
INSERT INTO tb_itens_vendas (id_vendas, id_produto, quantidade) VALUES
(1, 1, 2),
(1, 2, 1),
(2, 3, 1),
(3, 4, 3),
(4, 5, 1),
(5, 2, 2);
